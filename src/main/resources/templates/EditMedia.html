<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="Fragments/layout.html :: headerfiles">
<meta charset="ISO-8859-1">
<title>Edit Media</title>
</head>
<body>

	<div align="center">
		&nbsp;
		<h1>Add/Edit Media</h1>
		<form action="#" th:object="${media}" th:action="@{/artist/savemedia}"
			method="post">
			<fieldset>
				<input type="hidden" th:field="*{productID}">
			</fieldset>

			<fieldset>
				<input type="hidden" th:field="*{mediaType}" th:value="${mediatype}">
			</fieldset>

			&nbsp;
			<fieldset>
				Title: <input type="text" required th:field="*{title}">
				<p th:if="${#fields.hasErrors('title')}" th:errors="*{title}"
					style="color: red"></p>
			</fieldset>
			&nbsp;
			<fieldset>
				Description: <input type="text" min="0" th:field="*{description}">
				<p th:if="${#fields.hasErrors('description')}"
					th:errors="*{description}" style="color: red"></p>
			</fieldset>
			&nbsp;
			<fieldset>
				publishStatus: <input type="text" required th:field="*{productQty}">
			</fieldset>
			&nbsp;

			<fieldset>
				<p>
					<input type="file" accept="image/*" name="image" id="file"
						onchange="loadThumbnail(event)">
				</p>
				<p>
					<img id="output" width="30%" />
				</p>
			</fieldset>
			&nbsp;
			<fieldset>
				<p>
					<input type="file" accept=".mp4,.mp3" name="media" id="file"
						onchange="loadThumbnail(event)">
				</p>
				<p>
					<img id="output" width="30%" />
				</p>
			</fieldset>
			&nbsp;
			<fieldset>
				<button type="submit">Save</button>
			</fieldset>
		</form>
	</div>

</body>

<script>
	var loadThumbnail = function(event) {
		var image = document.getElementById('output');
		image.src = URL.createObjectURL(event.target.files[0]);
	};
</script>
</html>